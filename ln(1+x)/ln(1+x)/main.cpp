#include <iostream>
#include <cmath>                                    // подключение библиотеки которая считает логарифм

using namespace std;

int main(int argc, const char * argv[]) {
    
    double eps, x;
    
    cout << "введите х (-1 < x <= 1): ";
    cin >> x;                                       // ввод х
    cout << "погрешность: ";
    cin >> eps;                                     // ввод погрешности
    cout << "\n";
    
    if (eps <= 0) {                                 // если вводимая погрешность меньше 0
        cout << "eps должна быть > 0" << "\n\n";
        return 0;
    }
    
    double tsum = log(x + 1);                       // точное значение натурального логарифма
    int n = 0;                                      // счетчик циклов
    double sum = 0;                                 // сумма которую мы выведем с учетом погрешности (примерное значение логарифма)
    int znak = -1;                                  // знак
    double argx = 1;                                // числитель
    int znam = 0;                                   // знаменатель
    
    while (abs(tsum - sum) > eps) {                 // пока погрешность не станет допутимой
        n++;                                        // количество просуммированных элементов
        znak = -znak;                               // смена знака
        argx *= x;                                  // увеличение степени икса
        ++znam;                                     // увеличение знаменателя
        sum += znak * argx / znam;                  // увеличение суммы
    }
                                                    // вывод всех полученных значений
    cout << "1) погрешность: " << eps << endl;
    cout << "2) полученная погрешность: " << abs(tsum - sum) << endl;
    cout << "3) кол-во циклов: " << n << endl;
    cout << "4) полученное значение: " << sum << endl;
    cout << "5) точное значение: " << tsum << "\n\n";
    
    return 0;
}



